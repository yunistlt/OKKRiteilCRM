#!/bin/bash

# Configuration
API_URL="http://localhost:3000/api/sync"

echo "------------------------------------------"
echo "üöÄ –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ OKK..."
echo "------------------------------------------"

# 1. Sync History (Statuses)
echo "1/3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤..."
curl -s "$API_URL/history" | grep -q "success\":true" && echo "‚úÖ –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã" || echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤"

# 2. Sync Telphin Calls
echo "2/3 –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤ –∏–∑ –¢–µ–ª—Ñ–∏–Ω..."
curl -s "$API_URL/telphin" | grep -q "success\":true" && echo "‚úÖ –ó–≤–æ–Ω–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã" || echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–≤–æ–Ω–∫–æ–≤"

# 3. Matching
echo "3/3 –ü—Ä–∏–≤—è–∑–∫–∞ –∑–≤–æ–Ω–∫–æ–≤ –∫ –∑–∞–∫–∞–∑–∞–º..."
curl -s "http://localhost:3000/api/match" | grep -q "success\":true" && echo "‚úÖ –ú–∞—Ç—á–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω" || echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –º–∞—Ç—á–∏–Ω–≥–µ"

echo "------------------------------------------"
echo "üéâ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo "–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ."
echo "------------------------------------------"
